(this["webpackJsonpidle-game"]=this["webpackJsonpidle-game"]||[]).push([[0],[,,,,,,,function(e,t,a){e.exports=a.p+"static/media/credit.7abc0ac4.svg"},function(e,t,a){e.exports=a.p+"static/media/land.787d1085.svg"},function(e,t,a){e.exports=a.p+"static/media/redcircle.5819b0ee.svg"},function(e,t,a){e.exports=a.p+"static/media/greencircle.3ea27515.svg"},function(e,t,a){e.exports=a.p+"static/media/bluecircle.3cc723b7.svg"},,,,function(e,t,a){e.exports=a(28)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(6),i=a.n(c),o=(a(20),a(13)),s=(a(21),{basic:{displayName:"Baseline",growth:{type:"binomial",resource:"score",p:1},cost:{type:"exponential",resource:"score",initial:1,factor:2,roundToNearest:1}}});a(22);var l=function(e){return r.a.createElement("div",{className:"Building-card"},r.a.createElement("span",null,s[e.building].displayName),r.a.createElement("br",null),r.a.createElement("span",null,e.building))};a(23);var u=function(e){return r.a.createElement("input",{type:"button",value:"Buy ".concat(s[e.building].displayName),onClick:e.onClick})},m=(a(24),a(7)),d=a.n(m),f=a(8),v=a.n(f),b=a(9),g=a.n(b),p=a(10),E=a.n(p),h=a(11),y=a.n(h);function w(e,t){return function(a){return r.a.createElement("div",{className:"inline"},r.a.createElement("img",{src:e,className:"icon",alt:t}),r.a.createElement("div",{className:"quantity"},a.amount.toLocaleString()))}}var S=w(d.a,"credits"),O=w(v.a,"land"),k=w(g.a,"redcircle"),j=w(E.a,"greencircle"),N=w(y.a,"bluecircle");a(25);var P=function(e){return r.a.createElement("div",{className:"Chart-container"},r.a.createElement("div",{className:"Chart-column"},r.a.createElement(S,{amount:e.resourceState.score}),r.a.createElement(O,{amount:100})),r.a.createElement("div",{className:"Chart-column"},r.a.createElement(k,{amount:104545}),r.a.createElement(j,{amount:5}),r.a.createElement(N,{amount:4})))};a(26);var T=function(e){var t=e.duration,a=e.onTick,c={animationDuration:"".concat(t,"ms")},i=Object(n.useRef)(null);return Object(n.useEffect)((function(){i.current&&i.current.classList.add("Progress-fill");var e=setInterval((function(){if(i.current){i.current.classList.remove("Progress-fill");i.current.offsetHeight;i.current.classList.add("Progress-fill")}a()}),t);return function(){return clearInterval(e)}})),r.a.createElement("div",{className:"Progress-bar"},r.a.createElement("div",{ref:i,style:c}))};a(27);var C=r.a.memo((function(e){var t=e.msPerTick,a=e.onTick,n=e.resourceState;return r.a.createElement("header",{className:"Status-header"},r.a.createElement(P,{resourceState:n}),r.a.createElement(T,{duration:t,onTick:a}))}),(function(e,t){return e.msPerTick===t.msPerTick&&e.resourceState===t.resourceState})),x=a(14),B=a(1),F=a(12),I=a(4),A=a(30);function J(e,t,a){switch(a.type){case"binomial":return Object(B.a)(Object(B.a)({},e),{},Object(I.a)({},a.resource,e[a.resource]+Object(A.a)(t,a.p)()))}}function L(e,t){switch(t.type){case"assign":return t.newState;case"fastForwardAndSave":var a=function(e,t){var a,n=e.resourceState,r=Object(F.a)(e.buildings);try{for(r.s();!(a=r.n()).done;){var c=a.value;n=J(n,t,s[c].growth)}}catch(i){r.e(i)}finally{r.f()}return n}(e,t.count),n=Object(B.a)(Object(B.a)({},e),{},{resourceState:a,lastUpdate:t.when});return function(e){localStorage.setItem("saveFile",JSON.stringify(e))}(n),n;case"tryPurchaseBuilding":return Object(B.a)(Object(B.a)({},e),{},{buildings:[].concat(Object(x.a)(e.buildings),[t.building])})}}var U=function(){var e=Object(n.useReducer)(L,{resourceState:{score:0},buildings:[],lastUpdate:null}),t=Object(o.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)((function(){var e=function(){var e=localStorage.getItem("saveFile");return e?JSON.parse(e):null}();if(null!=e&&null!=e.lastUpdate){c({type:"assign",newState:e});var t=(new Date).getTime(),a=t-e.lastUpdate,n=Math.floor(a/5e3);c({type:"fastForwardAndSave",count:n,when:t})}}),[]);var i=Object(n.useCallback)((function(){c({type:"fastForwardAndSave",count:1,when:(new Date).getTime()})}),[c]),s=Object(n.useCallback)((function(){c({type:"tryPurchaseBuilding",building:"basic"})}),[c]);return r.a.createElement("div",{className:"App"},r.a.createElement(C,{onTick:i,msPerTick:5e3,resourceState:a.resourceState}),r.a.createElement("div",{className:"Primary-container"},r.a.createElement(u,{onClick:s,building:"basic"}),a.buildings.map((function(e,t){return r.a.createElement(l,{building:e,key:t})}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(U,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[15,1,2]]]);
//# sourceMappingURL=main.6f413d06.chunk.js.map